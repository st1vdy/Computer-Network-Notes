# ARP

## 简介

地址解析协议（英语：**A**ddress **R**esolution **P**rotocol，缩写：ARP）是一个通过解析网络层地址来找寻数据链路层地址（MAC地址）的网络传输协议。

网络层的通信建立在IP地址上，但是实际链路中数据的传输仍然需要硬件地址（以太网帧根据MAC地址来寻址到目的机器的网卡），因此ARP就是将IP地址解析为MAC地址的协议。



## 工作原理

- 每一台主机都设有一个ARP高速缓存，记录有**本局域网**上各主机和路由器的IP地址到MAC地址的映射。
- 当主机A要向**本局域网**上的某台主机B发送IP数据报时，先在本地ARP高速缓存中查找是否存在主机B的信息。
- 如果本地ARP高速缓存中不存在主机B的信息，主机A就会在**本局域网**上广播发送一个ARP请求分组，**本局域网**上的所有主机都会接收到该分组。
- 如果某个主机（主机B）的IP地址与ARP请求分组中要查询的IP一致，就收下这个分组，并向主机A发送ARP相应分组（注意，响应分组不是广播分组，因为已经明确了目标的MAC地址）。